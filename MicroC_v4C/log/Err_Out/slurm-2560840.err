Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954
Select jobs to execute...

[Mon Oct 20 16:44:49 2025]
rule allInfo:
    input: /athena/apostoloulab/scratch/ukl4001/data/v4C/vpInfo/vp.ENSMUSG00000019960.Dusp6.bed, /athena/apostoloulab/scratch/ukl4001/temp/region1.ENSMUSG00000019960.Dusp6__5kb, /athena/apostoloulab/scratch/ukl4001/temp/step1.ENSMUSG00000019960.Dusp6__5kb
    output: /athena/apostoloulab/scratch/ukl4001/temp/pairs.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb, /athena/apostoloulab/scratch/ukl4001/temp/left.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb, /athena/apostoloulab/scratch/ukl4001/temp/right.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb, /athena/apostoloulab/scratch/ukl4001/temp/singlereads.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb, /athena/apostoloulab/scratch/ukl4001/temp/enrichment.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb, /athena/apostoloulab/scratch/ukl4001/data/v4C/allInfo_parallel_chr/allinfo.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb
    jobid: 0
    reason: Forced execution
    wildcards: gene=ENSMUSG00000019960.Dusp6, exp=EpiG1DMSO_pooled, res=5
    threads: 4
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=/athena/cayuga_0007/scratch/ukl4001/temp


		firstline=$(head -n 1 /athena/apostoloulab/scratch/ukl4001/data/v4C/vpInfo/vp.ENSMUSG00000019960.Dusp6.bed)
		chr=$(echo ${firstline} | awk '{print $1}')

		pairToBed -a /athena/apostoloulab/scratch/ukl4001/temp/mappedPairChr/EpiG1DMSO_pooled.${chr}.bedpe -b /athena/apostoloulab/scratch/ukl4001/temp/region1.ENSMUSG00000019960.Dusp6__5kb -type "either" > /athena/apostoloulab/scratch/ukl4001/temp/pairs.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb

		cut -f1,2,3 /athena/apostoloulab/scratch/ukl4001/temp/pairs.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb > /athena/apostoloulab/scratch/ukl4001/temp/left.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb
		cut -f4,5,6 /athena/apostoloulab/scratch/ukl4001/temp/pairs.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb > /athena/apostoloulab/scratch/ukl4001/temp/right.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb
		cat /athena/apostoloulab/scratch/ukl4001/temp/left.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb /athena/apostoloulab/scratch/ukl4001/temp/right.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb > /athena/apostoloulab/scratch/ukl4001/temp/singlereads.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb
		
		#calculate read coverage for all bins around the region of interest
		intersectBed -a /athena/apostoloulab/scratch/ukl4001/temp/step1.ENSMUSG00000019960.Dusp6__5kb -b /athena/apostoloulab/scratch/ukl4001/temp/singlereads.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb -c > /athena/apostoloulab/scratch/ukl4001/temp/enrichment.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb
		
		# add location of region of interest - We will delete this from downstream analysis for plots - it is useful to keep it as a separate column.
		intersectBed -a /athena/apostoloulab/scratch/ukl4001/temp/enrichment.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb -b /athena/apostoloulab/scratch/ukl4001/temp/region1.ENSMUSG00000019960.Dusp6__5kb -c > /athena/apostoloulab/scratch/ukl4001/data/v4C/allInfo_parallel_chr/allinfo.ENSMUSG00000019960.Dusp6__EpiG1DMSO_pooled__5kb
		
		
Activating conda environment: bioinfo
[Mon Oct 20 16:45:43 2025]
Finished job 0.
1 of 1 steps (100%) done
